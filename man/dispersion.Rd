% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dispersion.R
\name{dispersion}
\alias{dispersion}
\title{Posterior dispersion}
\usage{
dispersion(model, summary = FALSE)
}
\arguments{
\item{model}{An object of class \code{\link[brms]{brmsfit}} whose distribution family
is either \code{\link[stats]{gaussian}}, \code{\link[stats]{poisson}} or \code{\link[stats]{binomial}}.}

\item{summary}{Logical. Should summary stats be returned instead of full vector? Defaults to FALSE.}
}
\value{
If \code{summary} is FALSE, an n-long \code{\link[base]{numeric}} vector containing the dispersion metric,
where n is the number of post warm-up posterior draws from the \code{\link[brms]{brmsfit}} object. If TRUE, then a
\code{\link[base]{data.frame}} containing the summary stats (mean, median, 95\% highest density intervals).
of the dispersion metric.
}
\description{
Calculates posterior dispersion metric
}
\details{
This function calculates a dispersion metric which takes the ratio between the observed relative to simulated
Pearson residuals sums of squares.
}
\examples{
\dontrun{
library(brms)
set.seed(10)

dt <- data.frame(predictor = rpois(60, lambda = 15))
dt$response <- dt$predictor + round(rnorm(nrow(dt), 0, 1))
# mimic overdispersion
dt$response_od <- abs(dt$predictor + round(rnorm(nrow(dt), 0, 10)))
mod_pois <- brm(response ~ predictor, dt, family = poisson())
mod_pois_od <- brm(response_od~predictor, dt, family = poisson())

dispersion(mod_pois)
dispersion(mod_pois_od)

# compare with regular dispersion parameter
# from quasipoisson glm 
dispersion(mod_pois, summary = TRUE)
summary(glm(response ~ predictor, data = dt, family = quasipoisson))
dispersion(mod_pois_od, summary = TRUE)
summary(glm(response_od ~ predictor, data = dt, family = quasipoisson))
}
}
